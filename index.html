<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Clicker Interdimensionnel</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #2c3e50;
            color: #ecf0f1;
            transition: background-color 1s, color 1s;
        }
        .container {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background-color: #34495e;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .energy {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .click-button {
            font-size: 1.2em;
            padding: 15px 30px;
            margin-bottom: 20px;
            cursor: pointer;
            background-color: #3498db;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .click-button:hover {
            background-color: #2980b9;
        }
        .upgrades, .dimensions {
            margin-top: 20px;
        }
        .upgrade, .dimension {
            margin: 10px 0;
            cursor: pointer;
            background-color: #2c3e50;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .upgrade:hover, .dimension:hover {
            background-color: #34495e;
        }
        .prestige-button {
            margin-top: 20px;
            font-size: 1em;
            padding: 10px 20px;
            cursor: pointer;
            background-color: #e74c3c;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .prestige-button:hover {
            background-color: #c0392b;
        }
        .fade-transition {
            animation: fade 1s;
        }
        @keyframes fade {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="energy" id="energy">Énergie dimensionnelle: 0</div>
        <button class="click-button" id="clickButton">Canaliser l'énergie</button>
        <div class="upgrades" id="upgrades">
            <div class="upgrade" data-cost="10" data-multiplier="2">Amélioration de clic x2 (10)</div>
            <div class="upgrade" data-cost="50" data-interval="1000" data-auto="1">Production automatique (50)</div>
        </div>
        <div class="dimensions" id="dimensions">
            <div class="dimension" data-dimension="Cybermonde">Cybermonde</div>
            <div class="dimension" data-dimension="Terre Organique">Terre Organique</div>
            <div class="dimension" data-dimension="Vide Lumineux">Vide Lumineux</div>
        </div>
        <button class="prestige-button" id="prestigeButton">Réinitialiser pour un bonus</button>
    </div>

    <script>
        const energyDisplay = document.getElementById('energy');
        const clickButton = document.getElementById('clickButton');
        const upgradesContainer = document.getElementById('upgrades');
        const dimensionsContainer = document.getElementById('dimensions');
        const prestigeButton = document.getElementById('prestigeButton');

        let energy = 0;
        let clickMultiplier = 1;
        let autoProduction = 0;
        let autoInterval = null;
        let prestigeMultiplier = 1;

        const dimensions = {
            "Cybermonde": { background: "#1abc9c", color: "#ecf0f1", boost: 1.5 },
            "Terre Organique": { background: "#2ecc71", color: "#ecf0f1", boost: 2 },
            "Vide Lumineux": { background: "#e67e22", color: "#ecf0f1", boost: 2.5 }
        };

        let currentDimension = null;

        function updateEnergyDisplay() {
            energyDisplay.textContent = `Énergie dimensionnelle: ${energy}`;
        }

        function saveGame() {
            localStorage.setItem('energy', energy);
            localStorage.setItem('clickMultiplier', clickMultiplier);
            localStorage.setItem('autoProduction', autoProduction);
            localStorage.setItem('prestigeMultiplier', prestigeMultiplier);
            localStorage.setItem('currentDimension', currentDimension);
        }

        function loadGame() {
            energy = parseInt(localStorage.getItem('energy')) || 0;
            clickMultiplier = parseFloat(localStorage.getItem('clickMultiplier')) || 1;
            autoProduction = parseInt(localStorage.getItem('autoProduction')) || 0;
            prestigeMultiplier = parseFloat(localStorage.getItem('prestigeMultiplier')) || 1;
            currentDimension = localStorage.getItem('currentDimension') || null;

            if (currentDimension) {
                changeDimension(currentDimension);
            }

            updateEnergyDisplay();
            startAutoProduction();
        }

        function startAutoProduction() {
            if (autoProduction > 0) {
                autoInterval = setInterval(() => {
                    energy += autoProduction * prestigeMultiplier;
                    updateEnergyDisplay();
                    saveGame();
                }, 1000);
            }
        }

        clickButton.addEventListener('click', () => {
            energy += clickMultiplier * prestigeMultiplier;
            updateEnergyDisplay();
            saveGame();
        });

        upgradesContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('upgrade')) {
                const cost = parseInt(event.target.dataset.cost);
                const multiplier = parseFloat(event.target.dataset.multiplier);
                const interval = parseInt(event.target.dataset.interval);
                const auto = parseInt(event.target.dataset.auto);

                if (energy >= cost) {
                    energy -= cost;
                    if (multiplier) {
                        clickMultiplier = multiplier;
                    }
                    if (auto) {
                        autoProduction = auto;
                        startAutoProduction();
                    }
                    updateEnergyDisplay();
                    event.target.style.display = 'none';
                    saveGame();
                }
            }
        });

        dimensionsContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('dimension')) {
                const dimension = event.target.dataset.dimension;
                changeDimension(dimension);
            }
        });

        function changeDimension(dimension) {
            if (dimensions[dimension]) {
                currentDimension = dimension;
                document.body.style.backgroundColor = dimensions[dimension].background;
                document.body.style.color = dimensions[dimension].color;
                clickMultiplier *= dimensions[dimension].boost;
                document.body.classList.add('fade-transition');
                setTimeout(() => {
                    document.body.classList.remove('fade-transition');
                }, 1000);
                saveGame();
            }
        }

        prestigeButton.addEventListener('click', () => {
            if (energy >= 1000) {
                prestigeMultiplier *= 2;
                energy = 0;
                clickMultiplier = 1;
                autoProduction = 0;
                clearInterval(autoInterval);
                autoInterval = null;
                document.querySelectorAll('.upgrade').forEach(upgrade => {
                    upgrade.style.display = 'block';
                });
                updateEnergyDisplay();
                saveGame();
            }
        });

        loadGame();
    </script>
</body>
</html>
