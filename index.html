<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeadHope - Maintenance en cours</title>
    <style>
        :root {
            --bg: #0a0a0a;
            --fg: #e0e0e0;
            --accent: #8b0000;
            --terminal-green: #00ff00;
            --money-color: #ffcc00;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Courier New', monospace;
            background-color: var(--bg);
            color: var(--fg);
            overflow-x: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* CRT Overlay effect */
        body::after {
            content: "";
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            z-index: 2;
            animation: flicker 0.15s infinite;
        }
        
        @keyframes flicker {
            0% { opacity: 0.97; }
            5% { opacity: 0.95; }
            10% { opacity: 0.97; }
            15% { opacity: 0.94; }
            20% { opacity: 0.98; }
            25% { opacity: 0.95; }
            30% { opacity: 0.97; }
            35% { opacity: 0.96; }
            40% { opacity: 0.97; }
            45% { opacity: 0.95; }
            50% { opacity: 0.98; }
            55% { opacity: 0.97; }
            60% { opacity: 0.95; }
            65% { opacity: 0.97; }
            70% { opacity: 0.96; }
            75% { opacity: 0.94; }
            80% { opacity: 0.98; }
            85% { opacity: 0.97; }
            90% { opacity: 0.95; }
            95% { opacity: 0.96; }
            100% { opacity: 0.97; }
        }
        
        /* Scanline effect */
        .scanline {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 3;
            animation: scanline 6s linear infinite;
            pointer-events: none;
        }
        
        @keyframes scanline {
            0% { top: 0%; }
            100% { top: 100%; }
        }
        
        .container {
            text-align: center;
            max-width: 800px;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }
        
        h1 {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.7);
        }
        
        .subtitle {
            font-size: 1.5rem;
            color: var(--terminal-green);
            margin-bottom: 2rem;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .message {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 2rem;
            border: 1px solid #333;
            line-height: 1.6;
        }
        
        .countdown {
            font-size: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .time {
            font-size: 2rem;
            color: var(--terminal-green);
            font-family: monospace;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 15px;
            border-radius: 5px;
            display: inline-block;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .game-container {
            display: flex;
            width: 100%;
            max-width: 1000px;
            margin-bottom: 2rem;
        }
        
        .game-scene {
            flex: 3;
            height: 250px;
            background-color: #111;
            position: relative;
            overflow: hidden;
            border: 4px solid #333;
            border-radius: 8px;
            background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 80%, #000 100%);
        }
        
        .shop-panel {
            flex: 1;
            background: rgba(0, 0, 0, 0.7);
            border: 4px solid #333;
            border-radius: 8px;
            padding: 10px;
            margin-left: 10px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            max-height: 250px;
        }
        
        .shop-panel h3 {
            color: var(--money-color);
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
            margin-top: 0;
            text-align: center;
        }
        
        .shop-item {
            background: rgba(30, 30, 30, 0.7);
            border: 1px solid #444;
            border-radius: 5px;
            padding: 5px 8px;
            margin-bottom: 8px;
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .shop-item:hover {
            background: rgba(50, 50, 50, 0.7);
            transform: translateY(-2px);
        }
        
        .shop-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .shop-item-name {
            font-weight: bold;
            color: #fff;
        }
        
        .shop-item-cost {
            color: var(--money-color);
            font-family: monospace;
        }
        
        .shop-item-description {
            font-size: 0.8em;
            color: #aaa;
            margin-top: 3px;
        }
        
        .shop-item-level {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .level-bar {
            flex: 1;
            height: 5px;
            background: #333;
            border-radius: 3px;
            overflow: hidden;
            margin-right: 8px;
        }
        
        .level-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
        }
        
        .level-text {
            font-size: 0.8em;
            color: #ccc;
        }
        
        .shop-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .road {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40px;
            background-color: #222;
            border-top: 2px solid #444;
        }
        
        .road::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #555 0%, #555 50%, transparent 50%, transparent 100%);
            background-size: 30px 100%;
            transform: translateY(-50%);
            animation: moveRoad 0.5s linear infinite;
        }
        
        @keyframes moveRoad {
            0% { background-position: 0 0; }
            100% { background-position: -30px 0; }
        }
        
        .survivor {
            width: 60px;
            height: 100px;
            position: absolute;
            bottom: 40px;
            left: 100px;
            z-index: 10;
        }
        
        .survivor-body {
            width: 30px;
            height: 60px;
            background: #2c3e50;
            position: absolute;
            bottom: 0;
            left: 15px;
            border-radius: 5px 5px 0 0;
        }
        
        .survivor-head {
            width: 25px;
            height: 25px;
            background: #34495e;
            position: absolute;
            top: 0;
            left: 17px;
            border-radius: 50%;
        }
        
        .survivor-arm {
            width: 30px;
            height: 8px;
            background: #2c3e50;
            position: absolute;
            top: 30px;
            left: 40px;
            transform-origin: left center;
            transform: rotate(0deg);
            z-index: 11;
        }
        
        .survivor-gun {
            width: 25px;
            height: 5px;
            background: #111;
            position: absolute;
            top: 1.5px;
            left: 30px;
            transform-origin: left center;
        }
        
        /* Classes pour diff√©rentes armes */
        .gun-pistol .survivor-gun {
            width: 15px;
            height: 5px;
        }
        
        .gun-smg .survivor-gun {
            width: 25px;
            height: 6px;
        }
        
        .gun-rifle .survivor-gun {
            width: 35px;
            height: 6px;
        }
        
        .gun-sniper .survivor-gun {
            width: 45px;
            height: 7px;
        }
        
        .survivor.shooting .survivor-arm {
            animation: armRecoil 0.3s ease-out;
        }
        
        @keyframes armRecoil {
            0% { transform: rotate(0deg); }
            20% { transform: rotate(15deg); }
            100% { transform: rotate(0deg); }
        }
        
        .bullet {
            width: 6px;
            height: 2px;
            background: #ff0;
            position: absolute;
            border-radius: 2px;
            z-index: 9;
            animation: bulletFly 0.5s linear forwards;
        }
        
        /* Crosshair avec pr√©cision variable */
        .crosshair {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.7);
            pointer-events: none;
            z-index: 100;
            display: none;
        }
        
        .crosshair::before,
        .crosshair::after {
            content: "";
            position: absolute;
            background: rgba(255, 255, 255, 0.7);
        }
        
        .crosshair::before {
            top: 50%;
            left: -5px;
            right: -5px;
            height: 1px;
        }
        
        .crosshair::after {
            left: 50%;
            top: -5px;
            bottom: -5px;
            width: 1px;
        }
        
        @keyframes bulletFly {
            0% { transform: translateX(0); opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translateX(1500px); opacity: 0; }
        }
        
        .muzzle-flash {
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, rgba(255,255,0,1) 0%, rgba(255,165,0,0.8) 50%, rgba(255,0,0,0) 100%);
            position: absolute;
            border-radius: 50%;
            z-index: 10;
            opacity: 0;
        }
        
        .muzzle-flash.active {
            animation: flash 0.2s ease-out;
        }
        
        @keyframes flash {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(2); }
        }
        
        .zombie {
            width: 40px;
            height: 80px;
            position: absolute;
            bottom: 40px;
            right: -50px;
            z-index: 8;
            animation: zombieWalk linear forwards;
        }
        
        .zombie-body {
            width: 25px;
            height: 50px;
            background: #506273;
            position: absolute;
            bottom: 0;
            left: 7px;
            border-radius: 3px 3px 0 0;
        }
        
        .zombie-head {
            width: 20px;
            height: 20px;
            background: #617487;
            position: absolute;
            top: 0;
            left: 10px;
            border-radius: 5px;
        }
        
        .zombie-arm {
            width: 20px;
            height: 6px;
            background: #506273;
            position: absolute;
            top: 25px;
            z-index: 7;
        }
        
        .zombie-arm-left {
            left: 0;
            transform-origin: right center;
            animation: zombieArmLeft 0.5s infinite alternate;
        }
        
        .zombie-arm-right {
            right: 0;
            transform-origin: left center;
            animation: zombieArmRight 0.5s infinite alternate;
        }
        
        @keyframes zombieArmLeft {
            0% { transform: rotate(-30deg); }
            100% { transform: rotate(10deg); }
        }
        
        @keyframes zombieArmRight {
            0% { transform: rotate(30deg); }
            100% { transform: rotate(-10deg); }
        }
        
        @keyframes zombieWalk {
            0% { right: -50px; }
            100% { right: 105%; }
        }
        
        .zombie.hit {
            animation-play-state: paused;
        }
        
        .zombie.hit .zombie-head,
        .zombie.hit .zombie-body,
        .zombie.hit .zombie-arm {
            background: #8b0000;
        }
        
        .zombie.hit::before {
            content: "+$30";
            position: absolute;
            top: -20px;
            left: 0;
            color: var(--money-color);
            font-family: monospace;
            font-weight: bold;
            animation: scoreFloat 1s ease-out forwards;
        }
        
        @keyframes scoreFloat {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-30px); opacity: 0; }
        }
        
        .blood-splatter {
            position: absolute;
            z-index: 12;
            pointer-events: none;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(139,0,0,0.8) 0%, rgba(139,0,0,0) 70%);
            opacity: 0;
            animation: blood 0.5s ease-out forwards;
        }
        
        @keyframes blood {
            0% { transform: scale(0.5); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        .money-counter {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-family: monospace;
            color: var(--money-color);
            z-index: 20;
            display: flex;
            align-items: center;
        }
        
        .money-counter::before {
            content: "$";
            margin-right: 5px;
            font-weight: bold;
        }
        
        #terminal-text {
            font-family: monospace;
            color: var(--terminal-green);
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 5px;
            width: 100%;
            max-width: 600px;
            text-align: left;
            height: 150px;
            overflow: hidden;
            margin-top: 20px;
            position: relative;
        }
        
        .cursor {
            display: inline-block;
            width: 10px;
            height: 1.2em;
            background-color: var(--terminal-green);
            animation: blink 1s step-end infinite;
        }
        
        .social-links {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .social-link {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--fg);
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .social-link:hover {
            background: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
        }
        
        /* Notifications */
        .notification {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 10px 15px;
            border-radius: 5px;
            border-left: 4px solid var(--accent);
            z-index: 1000;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-family: monospace;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .notification.show {
            opacity: 1;
        }
        
        /* Difficult√© progressive */
        .difficulty-indicator {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-family: monospace;
            color: #ff3333;
            z-index: 20;
        }
        
        .wave-indicator {
            font-size: 0.8em;
            color: #ccc;
            margin-top: 2px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .game-container {
                flex-direction: column;
            }
            
            .shop-panel {
                margin-left: 0;
                margin-top: 10px;
                max-height: 200px;
            }
            
            .game-scene {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="scanline"></div>
    
    <div class="container">
        <h1>‚ò£Ô∏è DeadHope ‚ò£Ô∏è</h1>
        <div class="subtitle">MAINTENANCE EN COURS</div>
        
        <div class="message">
            <p>Notre terminal tactique est actuellement en cours de mise √† jour pour am√©liorer ses performances et sa s√©curit√©. Les √©quipes travaillent d'arrache-pied pour remettre le syst√®me en ligne d√®s que possible.</p>
            <p>En attendant, d√©fendez votre position contre les hordes de zombies. Gagnez de l'argent et am√©liorez votre √©quipement pour survivre !</p>
        </div>
        
        <div class="countdown">
            <div>TEMPS ESTIM√â AVANT RETOUR EN LIGNE</div>
            <div class="time" id="countdown">00:00:00</div>
        </div>
        
        <div class="game-container">
            <div class="game-scene">
                <div class="difficulty-indicator">
                    <div>MENACE: <span id="difficulty-level">Niveau 1</span></div>
                    <div class="wave-indicator">Vague: <span id="wave-number">1</span></div>
                </div>
                <div class="money-counter" id="money">0</div>
                <div class="crosshair" id="crosshair"></div>
                
                <div class="survivor gun-pistol">
                    <div class="survivor-head"></div>
                    <div class="survivor-body"></div>
                    <div class="survivor-arm">
                        <div class="survivor-gun"></div>
                        <div class="muzzle-flash"></div>
                    </div>
                </div>
                
                <div class="road"></div>
            </div>
            
            <div class="shop-panel">
                <h3>AM√âLIORATIONS</h3>
                
                <div class="shop-item" id="accuracy-upgrade">
                    <div class="shop-item-header">
                        <div class="shop-item-name">Vis√©e</div>
                        <div class="shop-item-cost">$100</div>
                    </div>
                    <div class="shop-item-description">Am√©liore la pr√©cision de tir (Max: 10)</div>
                    <div class="shop-item-level">
                        <div class="level-bar">
                            <div class="level-fill" style="width: 10%"></div>
                        </div>
                        <div class="level-text">1/10</div>
                    </div>
                </div>
                
                <div class="shop-item" id="fire-rate-upgrade">
                    <div class="shop-item-header">
                        <div class="shop-item-name">Cadence de tir</div>
                        <div class="shop-item-cost">$150</div>
                    </div>
                    <div class="shop-item-description">Tire plus rapidement</div>
                    <div class="shop-item-level">
                        <div class="level-bar">
                            <div class="level-fill" style="width: 10%"></div>
                        </div>
                        <div class="level-text">1/5</div>
                    </div>
                </div>
                
                <div class="shop-item disabled" id="smg-upgrade">
                    <div class="shop-item-header">
                        <div class="shop-item-name">SMG</div>
                        <div class="shop-item-cost">$500</div>
                    </div>
                    <div class="shop-item-description">Arme √† feu automatique</div>
                    <div class="shop-item-level">
                        <div class="level-bar">
                            <div class="level-fill" style="width: 0%"></div>
                        </div>
                        <div class="level-text">Non acquis</div>
                    </div>
                </div>
                
                <div class="shop-item disabled" id="rifle-upgrade">
                    <div class="shop-item-header">
                        <div class="shop-item-name">Fusil d'assaut</div>
                        <div class="shop-item-cost">$1000</div>
                    </div>
                    <div class="shop-item-description">Puissant et pr√©cis</div>
                    <div class="shop-item-level">
                        <div class="level-bar">
                            <div class="level-fill" style="width: 0%"></div>
                        </div>
                        <div class="level-text">Non acquis</div>
                    </div>
                </div>
                
                <div class="shop-item disabled" id="sniper-upgrade">
                    <div class="shop-item-header">
                        <div class="shop-item-name">Sniper</div>
                        <div class="shop-item-cost">$2000</div>
                    </div>
                    <div class="shop-item-description">Haute pr√©cision, haute puissance</div>
                    <div class="shop-item-level">
                        <div class="level-bar">
                            <div class="level-fill" style="width: 0%"></div>
                        </div>
                        <div class="level-text">Non acquis</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="terminal-text"></div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <div class="social-links">
        <a href="#" class="social-link">üì±</a>
        <a href="#" class="social-link">üìß</a>
        <a href="#" class="social-link">üåê</a>
    </div>
    
    <script>
        // ===== Param√®tres du jeu =====
        const GAME = {
            money: 0,
            difficultyLevel: 1,
            waveNumber: 1,
            zombiesKilled: 0,
            zombiesRequired: 10, // Zombies requis pour passer √† la vague suivante
            zombieInterval: 3000, // Intervalle initial entre les zombies (ms)
            zombieSpeed: 10, // Seconds to cross the screen
            upgrades: {
                accuracy: {
                    level: 1,
                    max: 10,
                    cost: 100,
                    costMultiplier: 1.5
                },
                fireRate: {
                    level: 1,
                    max: 5,
                    cost: 150,
                    costMultiplier: 1.8,
                    cooldown: 300 // ms entre les tirs
                }
            },
            weapons: {
                pistol: { owned: true, damage: 1 },
                smg: { owned: false, cost: 500, damage: 1.5, fireRateBonus: 2 },
                rifle: { owned: false, cost: 1000, damage: 2, fireRateBonus: 1.5 },
                sniper: { owned: false, cost: 2000, damage: 3, fireRateBonus: 0.7 }
            },
            currentWeapon: 'pistol',
            canShoot: true
        };
        
        // ===== √âl√©ments DOM =====
        const gameScene = document.querySelector('.game-scene');
        const survivor = document.querySelector('.survivor');
        const moneyDisplay = document.getElementById('money');
        const difficultyDisplay = document.getElementById('difficulty-level');
        const waveDisplay = document.getElementById('wave-number');
        const crosshair = document.getElementById('crosshair');
        let zombies = [];
        let bullets = [];
        
        // ===== Fonctions du jeu =====
        
        // Mise √† jour de l'affichage de l'argent
        function updateMoneyDisplay() {
            moneyDisplay.textContent = GAME.money;
        }
        
        // Affichage d'une notification
        function showNotification(message, duration = 3000) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // Achat d'une am√©lioration
        function buyUpgrade(type) {
            const upgrade = GAME.upgrades[type];
            
            // V√©rifier si c'est possible d'am√©liorer
            if (upgrade.level >= upgrade.max) {
                showNotification("Niveau maximum atteint !");
                return false;
            }
            
            // V√©rifier si assez d'argent
            if (GAME.money < upgrade.cost) {
                showNotification("Pas assez d'argent !");
                return false;
            }
            
            // Acheter l'am√©lioration
            GAME.money -= upgrade.cost;
            upgrade.level++;
            
            // Calculer nouveau co√ªt
            upgrade.cost = Math.floor(upgrade.cost * upgrade.costMultiplier);
            
            // Mettre √† jour l'affichage
            updateMoneyDisplay();
            updateShopDisplay();
            
            showNotification(`Am√©lioration de ${type === 'accuracy' ? 'la vis√©e' : 'la cadence de tir'} achet√©e !`);
            return true;
        }
        
        // Achat d'une arme
        function buyWeapon(weaponName) {
            const weapon = GAME.weapons[weaponName];
            
            // V√©rifier si d√©j√† poss√©d√©e
            if (weapon.owned) {
                showNotification("Arme d√©j√† acquise !");
                return false;
            }
            
            // V√©rifier si assez d'argent
            if (GAME.money < weapon.cost) {
                showNotification("Pas assez d'argent !");
                return false;
            }
            
            // Acheter l'arme
            GAME.money -= weapon.cost;
            weapon.owned = true;
            GAME.currentWeapon = weaponName;
            
            // Mettre √† jour l'affichage
            updateMoneyDisplay();
            updateShopDisplay();
            updateWeaponDisplay();
            
            showNotification(`Arme ${weaponName.toUpperCase()} acquise !`);
            return true;
        }
        
        // Mise √† jour de l'affichage des armes
        function updateWeaponDisplay() {
            // Supprimer toutes les classes d'armes
            survivor.classList.remove('gun-pistol', 'gun-smg', 'gun-rifle', 'gun-sniper');
            
            // Ajouter la classe pour l'arme actuelle
            survivor.classList.add(`gun-${GAME.currentWeapon}`);
        }
        
        // Mise √† jour de l'affichage du magasin
        function updateShopDisplay() {
            // Mise √† jour de la vis√©e
            const accuracyUpgrade = document.getElementById('accuracy-upgrade');
            const accuracyLevel = GAME.upgrades.accuracy.level;
            const accuracyMax = GAME.upgrades.accuracy.max;
            const accuracyCost = GAME.upgrades.accuracy.cost;
            
            accuracyUpgrade.querySelector('.shop-item-cost').textContent = `$${accuracyCost}`;
            accuracyUpgrade.querySelector('.level-fill').style.width = `${(accuracyLevel / accuracyMax) * 100}%`;
            accuracyUpgrade.querySelector('.level-text').textContent = `${accuracyLevel}/${accuracyMax}`;
            
            if (accuracyLevel >= accuracyMax) {
                accuracyUpgrade.classList.add('disabled');
                accuracyUpgrade.querySelector('.shop-item-description').textContent = 'Pr√©cision maximale atteinte';
            }
            
            // Mise √† jour de la cadence de tir
            const fireRateUpgrade = document.getElementById('fire-rate-upgrade');
            const fireRateLevel = GAME.upgrades.fireRate.level;
            const fireRateMax = GAME.upgrades.fireRate.max;
            const fireRateCost = GAME.upgrades.fireRate.cost;
            
            fireRateUpgrade.querySelector('.shop-item-cost').textContent = `$${fireRateCost}`;
            fireRateUpgrade.querySelector('.level-fill').style.width = `${(fireRateLevel / fireRateMax) * 100}%`;
            fireRateUpgrade.querySelector('.level-text').textContent = `${fireRateLevel}/${fireRateMax}`;
            
            if (fireRateLevel >= fireRateMax) {
                fireRateUpgrade.classList.add('disabled');
                fireRateUpgrade.querySelector('.shop-item-description').textContent = 'Cadence maximale atteinte';
            }
            
            // Mise √† jour des armes
            ['smg', 'rifle', 'sniper'].forEach(weapon => {
                const weaponUpgrade = document.getElementById(`${weapon}-upgrade`);
                const weaponObj = GAME.weapons[weapon];
                
                if (weaponObj.owned) {
                    weaponUpgrade.classList.add('disabled');
                    weaponUpgrade.querySelector('.level-fill').style.width = '100%';
                    weaponUpgrade.querySelector('.level-text').textContent = 'Acquis';
                    weaponUpgrade.querySelector('.shop-item-cost').textContent = 'Acquis';
                } else {
                    weaponUpgrade.querySelector('.shop-item-cost').textContent = `$${weaponObj.cost}`;
                    weaponUpgrade.classList.remove('disabled');
                    
                    // Afficher "disponible" si on a assez d'argent
                    if (GAME.money >= weaponObj.cost) {
                        weaponUpgrade.querySelector('.level-text').textContent = 'Disponible';
                        weaponUpgrade.querySelector('.level-fill').style.width = '50%';
                    } else {
                        weaponUpgrade.querySelector('.level-text').textContent = 'Non acquis';
                        weaponUpgrade.querySelector('.level-fill').style.width = '0%';
                    }
                }
            });
        }
        
        // Cr√©ation de zombies
        function createZombie() {
            const zombie = document.createElement('div');
            zombie.className = 'zombie';
            
            const zombieHead = document.createElement('div');
            zombieHead.className = 'zombie-head';
            
            const zombieBody = document.createElement('div');
            zombieBody.className = 'zombie-body';
            
            const zombieArmLeft = document.createElement('div');
            zombieArmLeft.className = 'zombie-arm zombie-arm-left';
            
            const zombieArmRight = document.createElement('div');
            zombieArmRight.className = 'zombie-arm zombie-arm-right';
            
            zombie.appendChild(zombieHead);
            zombie.appendChild(zombieBody);
            zombie.appendChild(zombieArmLeft);
            zombie.appendChild(zombieArmRight);
            
            // Vitesse al√©atoire bas√©e sur la difficult√©
            const speedVariation = Math.random() * 2 - 1; // -1 √† +1
            const baseSpeed = GAME.zombieSpeed - (GAME.difficultyLevel * 0.5); // Plus rapide avec la difficult√©
            const speed = Math.max(5, baseSpeed + speedVariation);
            
            zombie.style.animationDuration = speed + 's';
            
            // Positionnement al√©atoire vertical (l√©g√®rement)
            const verticalPosition = Math.random() * 10 - 5; // -5 √† +5
            zombie.style.bottom = (40 + verticalPosition) + 'px';
            
            // Ajouter √† la sc√®ne
            gameScene.appendChild(zombie);
            
            // Enregistrer le zombie
            zombies.push(zombie);
            
            // Supprimer le zombie une fois qu'il a travers√© l'√©cran
            setTimeout(() => {
                if (zombie.parentNode) {
                    zombie.parentNode.removeChild(zombie);
                }
                zombies = zombies.filter(z => z !== zombie);
            }, speed * 1000);
        }
        
        // Gestion des vagues de zombies
        function startZombieWave() {
            // Afficher la vague actuelle
            waveDisplay.textContent = GAME.waveNumber;
            
            // R√©initialiser le compteur de zombies tu√©s
            GAME.zombiesKilled = 0;
            
            // Cr√©er des zombies √† intervalle r√©gulier
            const interval = setInterval(() => {
                createZombie();
                
                // Arr√™ter de cr√©er des zombies si on a atteint le nombre requis pour cette vague
                if (GAME.zombiesKilled >= GAME.zombiesRequired) {
                    clearInterval(interval);
                    
                    // Passer √† la vague suivante apr√®s un d√©lai
                    setTimeout(() => {
                        GAME.waveNumber++;
                        // Augmenter la difficult√© tous les 3 vagues
                        if (GAME.waveNumber % 3 === 0) {
                            GAME.difficultyLevel++;
                            difficultyDisplay.textContent = `Niveau ${GAME.difficultyLevel}`;
                            showNotification(`Difficult√© augment√©e : Niveau ${GAME.difficultyLevel}`, 5000);
                        }
                        
                        // Augmenter le nombre de zombies requis pour la prochaine vague
                        GAME.zombiesRequired = Math.floor(GAME.zombiesRequired * 1.2);
                        
                        // R√©duire l'intervalle entre les zombies
                        GAME.zombieInterval = Math.max(500, GAME.zombieInterval - 200);
                        
                        // Lancer la vague suivante
                        startZombieWave();
                    }, 3000);
                }
            }, GAME.zombieInterval / GAME.difficultyLevel);
        }
        
        // Tirer
        function shoot(event) {
            // V√©rifier si on peut tirer (cooldown)
            if (!GAME.canShoot) return;
            
            // Calculer la cadence de tir r√©elle bas√©e sur l'arme et les am√©liorations
            const baseFireRate = GAME.upgrades.fireRate.cooldown;
            const weaponBonus = GAME.weapons[GAME.currentWeapon].fireRateBonus || 1;
            const fireRateLevel = GAME.upgrades.fireRate.level;
            
            // R√©duction du cooldown bas√©e sur le niveau de cadence de tir et le bonus d'arme
            const actualCooldown = baseFireRate / (weaponBonus * (0.5 + (fireRateLevel * 0.1)));
            
            // Emp√™cher de tirer trop rapidement
            GAME.canShoot = false;
            setTimeout(() => { GAME.canShoot = true; }, actualCooldown);
            
            // Ajouter la classe pour l'animation de recul
            survivor.classList.add('shooting');
            setTimeout(() => {
                survivor.classList.remove('shooting');
            }, 300);
            
            // Cr√©er un effet de flash
            const muzzleFlash = document.querySelector('.muzzle-flash');
            muzzleFlash.style.top = '-2px';
            muzzleFlash.style.left = '25px';
            muzzleFlash.classList.add('active');
            setTimeout(() => {
                muzzleFlash.classList.remove('active');
            }, 200);
            
            // Obtenir les coordonn√©es du clic
            const sceneRect = gameScene.getBoundingClientRect();
            const clickX = event.clientX - sceneRect.left;
            const clickY = event.clientY - sceneRect.top;
            
            // Cr√©er une balle
            const bullet = document.createElement('div');
            bullet.className = 'bullet';
            
            // Position de d√©part de la balle (bout du fusil)
            const gunEnd = survivor.querySelector('.survivor-gun');
            const gunRect = gunEnd.getBoundingClientRect();
            
            bullet.style.top = (gunRect.top - sceneRect.top + gunRect.height/2 - 1) + 'px';
            bullet.style.left = (gunRect.right - sceneRect.left) + 'px';
            
            // Ajouter une d√©viation al√©atoire bas√©e sur la pr√©cision
            const accuracyLevel = GAME.upgrades.accuracy.level;
            const maxAccuracy = GAME.upgrades.accuracy.max;
            const accuracyRatio = accuracyLevel / maxAccuracy;
            
            // D√©viation verticale (inversement proportionnelle √† la pr√©cision)
            const maxDeviation = 30; // pixels maximum de d√©viation √† pr√©cision minimale
            const deviation = maxDeviation * (1 - accuracyRatio);
            const randomDeviation = (Math.random() * deviation * 2 - deviation);
            
            // Appliquer la d√©viation
            const newTop = parseFloat(bullet.style.top) + randomDeviation;
            bullet.style.top = newTop + 'px';
            
            gameScene.appendChild(bullet);
            bullets.push(bullet);
            
            // Supprimer la balle apr√®s l'animation
            setTimeout(() => {
                if (bullet.parentNode) {
                    bullet.parentNode.removeChild(bullet);
                }
                bullets = bullets.filter(b => b !== bullet);
            }, 500);
            
            // V√©rifier les collisions apr√®s un court d√©lai
            setTimeout(checkCollisions, 100);
        }
        
        // G√©rer le mouvement du viseur
        function updateCrosshair(event) {
            const sceneRect = gameScene.getBoundingClientRect();
            const x = event.clientX - sceneRect.left;
            const y = event.clientY - sceneRect.top;
            
            // Taille du viseur bas√©e sur la pr√©cision
            const accuracyLevel = GAME.upgrades.accuracy.level;
            const maxAccuracy = GAME.upgrades.accuracy.max;
            const accuracyRatio = accuracyLevel / maxAccuracy;
            
            const minSize = 10; // Taille minimale √† pr√©cision maximale
            const maxSize = 40; // Taille maximale √† pr√©cision minimale
            const size = maxSize - ((maxSize - minSize) * accuracyRatio);
            
            crosshair.style.width = size + 'px';
            crosshair.style.height = size + 'px';
            crosshair.style.left = (x - size/2) + 'px';
            crosshair.style.top = (y - size/2) + 'px';
            crosshair.style.display = 'block';
        }
        
        // Masquer le viseur quand la souris quitte la zone de jeu
        function hideCrosshair() {
            crosshair.style.display = 'none';
        }
        
        // V√©rifier les collisions balle-zombie
        function checkCollisions() {
            bullets.forEach(bullet => {
                const bulletRect = bullet.getBoundingClientRect();
                
                zombies.forEach(zombie => {
                    if (zombie.classList.contains('hit')) return;
                    
                    const zombieRect = zombie.getBoundingClientRect();
                    
                    // V√©rifier la collision
                    if (
                        bulletRect.right >= zombieRect.left &&
                        bulletRect.left <= zombieRect.right &&
                        bulletRect.bottom >= zombieRect.top &&
                        bulletRect.top <= zombieRect.bottom
                    ) {
                        // Marquer le zombie comme touch√©
                        zombie.classList.add('hit');
                        
                        // Cr√©er un effet de sang
                        const blood = document.createElement('div');
                        blood.className = 'blood-splatter';
                        blood.style.left = (zombieRect.left + zombieRect.width/2 - 15) + 'px';
                        blood.style.top = (zombieRect.top + zombieRect.height/3 - 15) + 'px';
                        document.body.appendChild(blood);
                        
                        // Supprimer l'effet de sang apr√®s l'animation
                        setTimeout(() => {
                            if (blood.parentNode) {
                                blood.parentNode.removeChild(blood);
                            }
                        }, 500);
                        
                        // Calculer la r√©compense bas√©e sur la difficult√©
                        const reward = 30 * GAME.difficultyLevel;
                        GAME.money += reward;
                        updateMoneyDisplay();
                        updateShopDisplay();
                        
                        // Personnaliser le message de r√©compense
                        zombie.style.setProperty('--reward', `"+$${reward}"`);
                        
                        // Incr√©menter le compteur de zombies tu√©s
                        GAME.zombiesKilled++;
                        
                        // Supprimer le zombie apr√®s un d√©lai
                        setTimeout(() => {
                            if (zombie.parentNode) {
                                zombie.parentNode.removeChild(zombie);
                            }
                            zombies = zombies.filter(z => z !== zombie);
                        }, 1000);
                    }
                });
            });
        }
        
        // Compte √† rebours
        function updateCountdown() {
            // Date de fin (√† personnaliser selon vos besoins)
            const endDate = new Date();
            endDate.setHours(endDate.getHours() + 2); // Dans 2 heures par exemple
            
            // Mettre √† jour le compte √† rebours toutes les secondes
            const interval = setInterval(function() {
                const now = new Date().getTime();
                const distance = endDate - now;
                
                // Calculs pour les heures, minutes et secondes
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Afficher le r√©sultat
                document.getElementById("countdown").innerHTML = 
                    hours.toString().padStart(2, '0') + ":" +
                    minutes.toString().padStart(2, '0') + ":" +
                    seconds.toString().padStart(2, '0');
                
                // Si le compte √† rebours est termin√©
                if (distance < 0) {
                    clearInterval(interval);
                    document.getElementById("countdown").innerHTML = "DISPONIBLE BIENT√îT";
                }
            }, 1000);
        }
        
        // Effet de terminal
        const terminalLines = [
            "$ Initialisation du protocole de maintenance...",
            "$ V√©rification des modules de s√©curit√©...",
            "$ Mise √† jour des bases de donn√©es tactiques...",
            "$ Optimisation des syst√®mes de communication...",
            "$ Calibration des capteurs de d√©tection de zombies...",
            "$ Mise √† jour des cartes de zones dangereuses...",
            "$ Am√©lioration de l'interface utilisateur...",
            "$ Test des syst√®mes critiques...",
            "$ D√©ploiement des patchs de s√©curit√©...",
            "$ Red√©marrage des serveurs en cours..."
        ];
        
        function typeTerminalText() {
            const terminal = document.getElementById('terminal-text');
            let lineIndex = 0;
            let charIndex = 0;
            
            function typeLine() {
                if (lineIndex >= terminalLines.length) {
                    lineIndex = 0;
                    terminal.innerHTML = '';
                }
                
                if (charIndex < terminalLines[lineIndex].length) {
                    terminal.innerHTML += terminalLines[lineIndex].charAt(charIndex);
                    charIndex++;
                    setTimeout(typeLine, 50);
                } else {
                    terminal.innerHTML += '<br>';
                    charIndex = 0;
                    lineIndex++;
                    setTimeout(typeLine, 1000);
                }
            }
            
            typeLine();
        }
        
        // Initialiser les animations et le jeu
        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown();
            typeTerminalText();
            updateMoneyDisplay();
            
            // Ajouter l'√©v√©nement de tir
            gameScene.addEventListener('click', shoot);
            gameScene.addEventListener('mousemove', updateCrosshair);
            gameScene.addEventListener('mouseleave', hideCrosshair);
            
            // Configurer les √©v√©nements d'achat
            document.getElementById('accuracy-upgrade').addEventListener('click', function() {
                buyUpgrade('accuracy');
            });
            
            document.getElementById('fire-rate-upgrade').addEventListener('click', function() {
                buyUpgrade('fireRate');
            });
            
            document.getElementById('smg-upgrade').addEventListener('click', function() {
                if (buyWeapon('smg')) {
                    showNotification("SMG acquis ! Cadence de tir am√©lior√©e !");
                }
            });
            
            document.getElementById('rifle-upgrade').addEventListener('click', function() {
                if (buyWeapon('rifle')) {
                    showNotification("Fusil d'assaut acquis ! D√©g√¢ts augment√©s !");
                }
            });
            
            document.getElementById('sniper-upgrade').addEventListener('click', function() {
                if (buyWeapon('sniper')) {
                    showNotification("Sniper acquis ! Haute pr√©cision et d√©g√¢ts !");
                }
            });
            
            // Argent de d√©part pour tester (retirez ceci pour la version finale)
            GAME.money = 100;
            updateMoneyDisplay();
            updateShopDisplay();
            
            // Commencer la premi√®re vague
            startZombieWave();
            
            // Petit tutoriel
            setTimeout(() => {
                showNotification("Cliquez sur l'√©cran pour tirer sur les zombies !");
            }, 1000);
            
            setTimeout(() => {
                showNotification("Gagnez de l'argent pour am√©liorer votre √©quipement !");
            }, 5000);
        });
    </script>
</body>
</html>
